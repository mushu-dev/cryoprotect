{
  "timestamp": "2025-05-13T17:43:36-06:00",
  "total_indexes": 25,
  "tables_with_indexes": 7,
  "indexes_by_table": {
    "molecules": [
      {
        "name": "idx_molecules_name_lower",
        "definition": "CREATE INDEX idx_molecules_name_lower ON public.molecules USING btree (lower(name))"
      },
      {
        "name": "idx_molecules_name_trgm",
        "definition": "CREATE INDEX idx_molecules_name_trgm ON public.molecules USING gin (name gin_trgm_ops)"
      },
      {
        "name": "idx_molecules_formula",
        "definition": "CREATE INDEX idx_molecules_formula ON public.molecules USING btree (formula)"
      },
      {
        "name": "idx_molecules_type",
        "definition": "CREATE INDEX idx_molecules_type ON public.molecules USING btree (type)"
      },
      {
        "name": "idx_molecules_pubchem_cid",
        "definition": "CREATE INDEX idx_molecules_pubchem_cid ON public.molecules USING btree (pubchem_cid)"
      },
      {
        "name": "idx_molecules_is_public",
        "definition": "CREATE INDEX idx_molecules_is_public ON public.molecules USING btree (is_public)"
      },
      {
        "name": "idx_molecules_created_at",
        "definition": "CREATE INDEX idx_molecules_created_at ON public.molecules USING btree (created_at)"
      }
    ],
    "molecular_properties": [
      {
        "name": "idx_molecular_properties_molecule_id",
        "definition": "CREATE INDEX idx_molecular_properties_molecule_id ON public.molecular_properties USING btree (molecule_id)"
      },
      {
        "name": "idx_molecular_properties_property_name",
        "definition": "CREATE INDEX idx_molecular_properties_property_name ON public.molecular_properties USING btree (property_name)"
      },
      {
        "name": "idx_molecular_properties_numeric_value",
        "definition": "CREATE INDEX idx_molecular_properties_numeric_value ON public.molecular_properties USING btree (numeric_value)"
      },
      {
        "name": "idx_molecular_properties_molecule_property",
        "definition": "CREATE INDEX idx_molecular_properties_molecule_property ON public.molecular_properties USING btree (molecule_id, property_name)"
      },
      {
        "name": "idx_molecular_properties_property_type_id",
        "definition": "CREATE INDEX idx_molecular_properties_property_type_id ON public.molecular_properties USING btree (property_type_id)"
      },
      {
        "name": "idx_molecular_properties_unit_id",
        "definition": "CREATE INDEX idx_molecular_properties_unit_id ON public.molecular_properties USING btree (unit_id)"
      }
    ],
    "consolidated_molecules": [
      {
        "name": "idx_consolidated_molecules_primary_id",
        "definition": "CREATE INDEX idx_consolidated_molecules_primary_id ON public.consolidated_molecules USING btree (primary_id)"
      },
      {
        "name": "idx_consolidated_molecules_duplicate_of",
        "definition": "CREATE INDEX idx_consolidated_molecules_duplicate_of ON public.consolidated_molecules USING btree (duplicate_of)"
      }
    ],
    "property_types": [
      {
        "name": "idx_property_types_name",
        "definition": "CREATE INDEX idx_property_types_name ON public.property_types USING btree (name)"
      },
      {
        "name": "idx_property_types_value_type",
        "definition": "CREATE INDEX idx_property_types_value_type ON public.property_types USING btree (value_type)"
      }
    ],
    "units": [
      {
        "name": "idx_units_name",
        "definition": "CREATE INDEX idx_units_name ON public.units USING btree (name)"
      },
      {
        "name": "idx_units_category",
        "definition": "CREATE INDEX idx_units_category ON public.units USING btree (category)"
      },
      {
        "name": "idx_units_symbol",
        "definition": "CREATE INDEX idx_units_symbol ON public.units USING btree (symbol)"
      }
    ],
    "mixtures": [
      {
        "name": "idx_mixtures_name",
        "definition": "CREATE INDEX idx_mixtures_name ON public.mixtures USING btree (name)"
      },
      {
        "name": "idx_mixtures_created_at",
        "definition": "CREATE INDEX idx_mixtures_created_at ON public.mixtures USING btree (created_at)"
      }
    ],
    "mixture_components": [
      {
        "name": "idx_mixture_components_mixture_id",
        "definition": "CREATE INDEX idx_mixture_components_mixture_id ON public.mixture_components USING btree (mixture_id)"
      },
      {
        "name": "idx_mixture_components_molecule_id",
        "definition": "CREATE INDEX idx_mixture_components_molecule_id ON public.mixture_components USING btree (molecule_id)"
      }
    ]
  },
  "query_performance": [
    {
      "name": "Molecule lookup by name",
      "execution_time_ms": 2.3,
      "used_indexes": ["idx_molecules_name_trgm"],
      "expected_improvement": "Uses index idx_molecules_name_trgm for pattern matching",
      "query": "EXPLAIN ANALYZE SELECT * FROM molecules WHERE name ILIKE '%glycerol%';"
    },
    {
      "name": "Property lookup by molecule",
      "execution_time_ms": 0.8,
      "used_indexes": ["idx_molecular_properties_molecule_id"],
      "expected_improvement": "Uses index idx_molecular_properties_molecule_id",
      "query": "EXPLAIN ANALYZE SELECT * FROM molecular_properties WHERE molecule_id = uuid_generate_v4();"
    },
    {
      "name": "Property lookup by name",
      "execution_time_ms": 1.2,
      "used_indexes": ["idx_molecular_properties_property_name"],
      "expected_improvement": "Uses index idx_molecular_properties_property_name",
      "query": "EXPLAIN ANALYZE SELECT * FROM molecular_properties WHERE property_name = 'molecular_weight';"
    },
    {
      "name": "Molecule search by formula",
      "execution_time_ms": 0.5,
      "used_indexes": ["idx_molecules_formula"],
      "expected_improvement": "Uses index idx_molecules_formula",
      "query": "EXPLAIN ANALYZE SELECT * FROM molecules WHERE formula = 'C3H8O3';"
    },
    {
      "name": "Join molecules and properties with filtering",
      "execution_time_ms": 3.4,
      "used_indexes": ["idx_molecular_properties_molecule_id", "idx_molecules_is_public", "idx_molecular_properties_property_name"],
      "expected_improvement": "Uses indexes on molecule_id, property_name, is_public, and numeric_value",
      "query": "EXPLAIN ANALYZE SELECT m.*, mp.numeric_value FROM molecules m JOIN molecular_properties mp ON m.id = mp.molecule_id WHERE mp.property_name = 'melting_point' AND m.is_public = TRUE ORDER BY mp.numeric_value DESC LIMIT 10;"
    }
  ]
}
