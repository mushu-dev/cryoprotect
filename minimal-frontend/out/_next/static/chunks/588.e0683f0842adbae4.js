"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[588],{5588:function(e,o,t){t.r(o),t.d(o,{default:function(){return MoleculeViewer3D}});var a=t(5893),r=t(5379),i=t.n(r),n=t(7294);function MoleculeViewer3D(e){let{smiles:o,name:t,pubchem_cid:r}=e,l=(0,n.useRef)(null),s=(0,n.useRef)(null),[f,c]=(0,n.useState)(!0),[d,m]=(0,n.useState)(null),[x,b]=(0,n.useState)(null),[p,u]=(0,n.useState)("ball-and-stick"),[g,w]=(0,n.useState)(0),[k,j]=(0,n.useState)("");(0,n.useEffect)(()=>{if(!l.current)return;let loadMolstarLibrary=async()=>{try{j("Initializing 3D viewer..."),console.log("Preparing Mol* integration for",t||"molecule"),await new Promise(e=>setTimeout(e,800)),b({smiles:o,name:t,pubchem_cid:r,loaded:!0}),j(""),c(!1)}catch(e){console.error("Failed to load Mol* library:",e),m("Failed to initialize 3D viewer. Please try again later."),c(!1),j("")}};return loadMolstarLibrary(),()=>{s.current&&(s.current=null)}},[]),(0,n.useEffect)(()=>{if(!o&&!r){m("No molecule data provided"),c(!1);return}let loadMoleculeStructure=async()=>{try{c(!0),m(null),r?j("Loading 3D structure for ".concat(t||"molecule"," (PubChem CID: ").concat(r,")...")):j("Generating 3D structure from SMILES..."),r?(console.log("Loading 3D structure from PubChem CID: ".concat(r)),await new Promise(e=>setTimeout(e,600))):o&&(console.log("Converting SMILES to 3D structure: ".concat(o)),await new Promise(e=>setTimeout(e,800))),b({smiles:o,name:t,pubchem_cid:r,loaded:!0}),j(""),c(!1)}catch(e){if(console.error("Failed to load 3D structure:",e),g<3){let e=1e3*Math.pow(2,g);j("Connection issue. Retrying in ".concat(e/1e3,"s... (attempt ").concat(g+1,"/3)")),setTimeout(()=>{w(e=>e+1)},e)}else m("Failed to load 3D structure after multiple attempts. Please try again later."),c(!1),j("")}};(null==x?void 0:x.loaded)&&!(g>0)||loadMoleculeStructure()},[o,t,r,g]);let handleZoom=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.2;console.log("Zoom molecule by factor",e)};return(0,a.jsxs)("div",{className:"jsx-8df28f654f3cfa47 molecule-viewer-3d",children:[(0,a.jsx)("div",{ref:l,role:"application","aria-label":"3D visualization of ".concat(t||"molecule"),className:"jsx-8df28f654f3cfa47 molecule-viewer-container",children:f?(0,a.jsxs)("div",{className:"jsx-8df28f654f3cfa47 molecule-viewer-loading",children:[(0,a.jsx)("div",{"aria-hidden":"true",className:"jsx-8df28f654f3cfa47 viewer-spinner"}),(0,a.jsx)("p",{className:"jsx-8df28f654f3cfa47",children:k||"Loading 3D structure..."})]}):d?(0,a.jsxs)("div",{className:"jsx-8df28f654f3cfa47 molecule-viewer-error",children:[(0,a.jsx)("p",{className:"jsx-8df28f654f3cfa47",children:d}),(0,a.jsx)("button",{onClick:()=>{w(0),m(null)},"aria-label":"Retry loading 3D structure",className:"jsx-8df28f654f3cfa47 retry-button",children:"Try Again"})]}):(0,a.jsx)("div",{className:"jsx-8df28f654f3cfa47 molecule-viewer-canvas",children:(0,a.jsxs)("div",{className:"jsx-8df28f654f3cfa47 molecule-viewer-placeholder",children:[(0,a.jsxs)("div",{"aria-hidden":"true",className:"jsx-8df28f654f3cfa47 molecule-3d-model",children:[(0,a.jsx)("div",{className:"jsx-8df28f654f3cfa47 atom atom-1"}),(0,a.jsx)("div",{className:"jsx-8df28f654f3cfa47 atom atom-2"}),(0,a.jsx)("div",{className:"jsx-8df28f654f3cfa47 atom atom-3"}),(0,a.jsx)("div",{className:"jsx-8df28f654f3cfa47 atom atom-4"}),(0,a.jsx)("div",{className:"jsx-8df28f654f3cfa47 bond bond-1"}),(0,a.jsx)("div",{className:"jsx-8df28f654f3cfa47 bond bond-2"}),(0,a.jsx)("div",{className:"jsx-8df28f654f3cfa47 bond bond-3"})]}),(0,a.jsxs)("div",{className:"jsx-8df28f654f3cfa47 molecule-info",children:[(0,a.jsx)("p",{className:"jsx-8df28f654f3cfa47 molecule-name",children:t||"Molecule"}),r&&(0,a.jsx)("p",{className:"jsx-8df28f654f3cfa47 molecule-pubchem",children:(0,a.jsx)("a",{href:"https://pubchem.ncbi.nlm.nih.gov/compound/".concat(r),target:"_blank",rel:"noopener noreferrer","aria-label":"View ".concat(t||"molecule"," on PubChem (opens in new tab)"),className:"jsx-8df28f654f3cfa47 pubchem-link",children:"View on PubChem"})}),o&&(0,a.jsx)("p",{title:o,className:"jsx-8df28f654f3cfa47 molecule-smiles",children:o.length>30?"".concat(o.substring(0,30),"..."):o}),(0,a.jsxs)("p",{className:"jsx-8df28f654f3cfa47 viewer-mode-info",children:["Viewing mode: ",(0,a.jsx)("strong",{className:"jsx-8df28f654f3cfa47",children:p})]})]})]})})}),(0,a.jsxs)("div",{role:"toolbar","aria-label":"Molecule viewer controls",className:"jsx-8df28f654f3cfa47 molecule-viewer-controls",children:[(0,a.jsx)("button",{onClick:()=>{console.log("Rotate molecule")},"aria-label":"Rotate molecule",disabled:f||!!d,className:"jsx-8df28f654f3cfa47 control-button",children:"Rotate"}),(0,a.jsxs)("div",{className:"jsx-8df28f654f3cfa47 zoom-controls",children:[(0,a.jsx)("button",{onClick:()=>handleZoom(1.2),"aria-label":"Zoom in",disabled:f||!!d,className:"jsx-8df28f654f3cfa47 control-button zoom-button",children:"Zoom +"}),(0,a.jsx)("button",{onClick:()=>handleZoom(.8),"aria-label":"Zoom out",disabled:f||!!d,className:"jsx-8df28f654f3cfa47 control-button zoom-button",children:"Zoom -"})]}),(0,a.jsx)("button",{onClick:()=>{console.log("Reset view")},"aria-label":"Reset view",disabled:f||!!d,className:"jsx-8df28f654f3cfa47 control-button",children:"Reset"}),(0,a.jsx)("div",{className:"jsx-8df28f654f3cfa47 select-wrapper",children:(0,a.jsxs)("select",{value:p,onChange:e=>{let o=e.target.value;u(o),console.log("Change view mode to",o)},"aria-label":"Change molecule representation style",disabled:f||!!d,className:"jsx-8df28f654f3cfa47 control-select",children:[(0,a.jsx)("option",{value:"ball-and-stick",className:"jsx-8df28f654f3cfa47",children:"Ball and Stick"}),(0,a.jsx)("option",{value:"space-filling",className:"jsx-8df28f654f3cfa47",children:"Space Filling"}),(0,a.jsx)("option",{value:"wireframe",className:"jsx-8df28f654f3cfa47",children:"Wireframe"}),(0,a.jsx)("option",{value:"cartoon",className:"jsx-8df28f654f3cfa47",children:"Cartoon"}),(0,a.jsx)("option",{value:"surface",className:"jsx-8df28f654f3cfa47",children:"Surface"})]})})]}),(0,a.jsx)(i(),{id:"8df28f654f3cfa47",children:'.molecule-viewer-3d.jsx-8df28f654f3cfa47{width:100%;margin-top:15px}.molecule-viewer-container.jsx-8df28f654f3cfa47{height:400px;background-color:#f8f9fa;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;border:1px solid#e2e8f0;overflow:hidden;position:relative}.molecule-viewer-loading.jsx-8df28f654f3cfa47{height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;color:#4a5568;text-align:center;padding:0 20px}.viewer-spinner.jsx-8df28f654f3cfa47{width:40px;height:40px;border:4px solid rgba(0,112,243,.2);border-left-color:#0070f3;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-animation:spin 1s linear infinite;-moz-animation:spin 1s linear infinite;-o-animation:spin 1s linear infinite;animation:spin 1s linear infinite;margin-bottom:10px}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.molecule-viewer-error.jsx-8df28f654f3cfa47{height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;color:#e53e3e;padding:0 20px;text-align:center}.retry-button.jsx-8df28f654f3cfa47{margin-top:15px;background-color:#0070f3;color:white;border:none;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;padding:8px 16px;cursor:pointer;font-weight:500;-webkit-transition:background-color.2s;-moz-transition:background-color.2s;-o-transition:background-color.2s;transition:background-color.2s}.retry-button.jsx-8df28f654f3cfa47:hover{background-color:#0051b3}.molecule-viewer-canvas.jsx-8df28f654f3cfa47{height:100%;width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.molecule-viewer-placeholder.jsx-8df28f654f3cfa47{text-align:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.molecule-3d-model.jsx-8df28f654f3cfa47{width:180px;height:180px;position:relative;margin:0 auto 20px;-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-animation:rotate 15s infinite linear;-moz-animation:rotate 15s infinite linear;-o-animation:rotate 15s infinite linear;animation:rotate 15s infinite linear}@-webkit-keyframes rotate{from{-webkit-transform:rotatey(0deg)rotatex(15deg);transform:rotatey(0deg)rotatex(15deg)}to{-webkit-transform:rotatey(360deg)rotatex(15deg);transform:rotatey(360deg)rotatex(15deg)}}@-moz-keyframes rotate{from{-moz-transform:rotatey(0deg)rotatex(15deg);transform:rotatey(0deg)rotatex(15deg)}to{-moz-transform:rotatey(360deg)rotatex(15deg);transform:rotatey(360deg)rotatex(15deg)}}@-o-keyframes rotate{from{transform:rotatey(0deg)rotatex(15deg)}to{transform:rotatey(360deg)rotatex(15deg)}}@keyframes rotate{from{-webkit-transform:rotatey(0deg)rotatex(15deg);-moz-transform:rotatey(0deg)rotatex(15deg);transform:rotatey(0deg)rotatex(15deg)}to{-webkit-transform:rotatey(360deg)rotatex(15deg);-moz-transform:rotatey(360deg)rotatex(15deg);transform:rotatey(360deg)rotatex(15deg)}}.atom.jsx-8df28f654f3cfa47{position:absolute;width:30px;height:30px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;opacity:.8}.atom-1.jsx-8df28f654f3cfa47{background-color:#ff4d4d;-webkit-transform:translatez(60px);-moz-transform:translatez(60px);transform:translatez(60px)}.atom-2.jsx-8df28f654f3cfa47{background-color:#4dabff;-webkit-transform:translatez(-60px);-moz-transform:translatez(-60px);transform:translatez(-60px)}.atom-3.jsx-8df28f654f3cfa47{background-color:#ffcc4d;-webkit-transform:translatex(60px);-moz-transform:translatex(60px);-ms-transform:translatex(60px);-o-transform:translatex(60px);transform:translatex(60px)}.atom-4.jsx-8df28f654f3cfa47{background-color:#4dff77;-webkit-transform:translatex(-60px);-moz-transform:translatex(-60px);-ms-transform:translatex(-60px);-o-transform:translatex(-60px);transform:translatex(-60px)}.bond.jsx-8df28f654f3cfa47{position:absolute;background-color:#999;width:10px;height:120px;top:-45px;left:85px}.bond-1.jsx-8df28f654f3cfa47{-webkit-transform:rotatey(0deg);-moz-transform:rotatey(0deg);transform:rotatey(0deg)}.bond-2.jsx-8df28f654f3cfa47{-webkit-transform:rotatey(60deg);-moz-transform:rotatey(60deg);transform:rotatey(60deg)}.bond-3.jsx-8df28f654f3cfa47{-webkit-transform:rotatey(120deg);-moz-transform:rotatey(120deg);transform:rotatey(120deg)}.molecule-info.jsx-8df28f654f3cfa47{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:5px}.molecule-name.jsx-8df28f654f3cfa47{font-weight:bold;font-size:1.2rem;margin-bottom:2px}.molecule-pubchem.jsx-8df28f654f3cfa47{margin:0 0 5px 0}.pubchem-link.jsx-8df28f654f3cfa47{color:#0070f3;text-decoration:none;font-size:.9rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transition:color.2s;-moz-transition:color.2s;-o-transition:color.2s;transition:color.2s}.pubchem-link.jsx-8df28f654f3cfa47:hover{color:#0051b3;text-decoration:underline}.molecule-smiles.jsx-8df28f654f3cfa47{font-family:monospace;background-color:#edf2f7;padding:5px 10px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;display:inline-block;font-size:.9rem;margin:5px 0;max-width:100%;overflow-x:auto}.viewer-mode-info.jsx-8df28f654f3cfa47{font-size:.9rem;color:#4a5568;margin-top:5px}.molecule-viewer-controls.jsx-8df28f654f3cfa47{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:10px;margin-top:15px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.control-button.jsx-8df28f654f3cfa47{padding:8px 16px;background-color:#0070f3;color:white;border:none;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;cursor:pointer;font-weight:500;-webkit-transition:background-color.2s;-moz-transition:background-color.2s;-o-transition:background-color.2s;transition:background-color.2s}.control-button.jsx-8df28f654f3cfa47:hover:not(:disabled){background-color:#0051b3}.control-button.jsx-8df28f654f3cfa47:disabled{background-color:#a0aec0;cursor:not-allowed}.zoom-controls.jsx-8df28f654f3cfa47{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:4px}.zoom-button.jsx-8df28f654f3cfa47{padding:8px 12px}.select-wrapper.jsx-8df28f654f3cfa47{position:relative}.control-select.jsx-8df28f654f3cfa47{padding:8px 16px;border:1px solid#e2e8f0;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;background-color:white;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;padding-right:30px}.control-select.jsx-8df28f654f3cfa47:disabled{background-color:#edf2f7;color:#a0aec0;cursor:not-allowed}.select-wrapper.jsx-8df28f654f3cfa47::after{content:"";position:absolute;right:12px;top:50%;-webkit-transform:translatey(-50%);-moz-transform:translatey(-50%);-ms-transform:translatey(-50%);-o-transform:translatey(-50%);transform:translatey(-50%);width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid#718096;pointer-events:none}@media(max-width:768px){.molecule-viewer-container.jsx-8df28f654f3cfa47{height:300px}.molecule-smiles.jsx-8df28f654f3cfa47{font-size:.8rem;max-width:250px;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.molecule-viewer-controls.jsx-8df28f654f3cfa47{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.control-button.jsx-8df28f654f3cfa47,.control-select.jsx-8df28f654f3cfa47{width:100%;max-width:250px}}'})]})}}}]);