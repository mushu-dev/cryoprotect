(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[596],{1515:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/molecule-viewer",function(){return o(9741)}])},5177:function(e,t,o){"use strict";o.d(t,{Z:function(){return ErrorMessage}});var i=o(5893);function ErrorMessage(e){let{message:t,onRetry:o}=e;return(0,i.jsxs)("div",{className:"error-message",children:[(0,i.jsx)("h3",{children:"Error"}),(0,i.jsx)("p",{children:t||"An error occurred while fetching data."}),o&&(0,i.jsx)("button",{className:"button",onClick:o,children:"Retry"})]})}o(7294)},5179:function(e,t,o){"use strict";o.d(t,{Z:function(){return Loading}});var i=o(5893);function Loading(){return(0,i.jsxs)("div",{className:"loading-container",children:[(0,i.jsx)("div",{className:"loading-spinner"}),(0,i.jsx)("p",{children:"Loading data..."})]})}o(7294)},9741:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return MoleculeViewer}});var i=o(5893),n=o(5379),r=o.n(n),c=o(7294),l=o(8980),a=o(9185),s=o(5179),u=o(5177);function MoleculeViewer(){let[e,t]=(0,c.useState)("c1ccccc1CC"),[o,n]=(0,c.useState)(""),[d,m]=(0,c.useState)(!1),[p,x]=(0,c.useState)(null),fetchDepiction=async()=>{if(e)try{m(!0),x(null);let t=await (0,a.AT)(e);n(t)}catch(e){console.error("Failed to get molecule depiction:",e),x("Failed to generate molecule visualization. Please try again.")}finally{m(!1)}};return(0,c.useEffect)(()=>{fetchDepiction()},[e]),(0,i.jsxs)(l.Z,{title:"Molecule Viewer",children:[(0,i.jsxs)("div",{className:"jsx-3080894e07ce8be page-header",children:[(0,i.jsx)("h1",{className:"jsx-3080894e07ce8be title",children:"Molecule Viewer"}),(0,i.jsx)("p",{className:"jsx-3080894e07ce8be description",children:"Visualize molecular structures using the RDKit service on Fly.io"})]}),(0,i.jsxs)("div",{className:"jsx-3080894e07ce8be card molecule-viewer-card",children:[(0,i.jsxs)("div",{className:"jsx-3080894e07ce8be molecule-input",children:[(0,i.jsx)("label",{htmlFor:"smiles-input",className:"jsx-3080894e07ce8be",children:"SMILES Notation:"}),(0,i.jsx)("input",{id:"smiles-input",type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter SMILES notation",className:"jsx-3080894e07ce8be smiles-input"}),(0,i.jsx)("button",{onClick:fetchDepiction,className:"jsx-3080894e07ce8be button",children:"View Molecule"})]}),(0,i.jsxs)("div",{className:"jsx-3080894e07ce8be sample-molecules",children:[(0,i.jsx)("h3",{className:"jsx-3080894e07ce8be",children:"Sample Molecules:"}),(0,i.jsx)("div",{className:"jsx-3080894e07ce8be sample-buttons",children:[{name:"Glycerol",smiles:"C(C(CO)O)O"},{name:"DMSO",smiles:"CS(=O)C"},{name:"Ethylene Glycol",smiles:"C(CO)O"},{name:"Propylene Glycol",smiles:"CC(CO)O"},{name:"Benzene",smiles:"c1ccccc1"},{name:"Caffeine",smiles:"CN1C=NC2=C1C(=O)N(C(=O)N2C)C"}].map(e=>(0,i.jsx)("button",{onClick:()=>t(e.smiles),className:"jsx-3080894e07ce8be sample-button",children:e.name},e.name))})]}),(0,i.jsx)("div",{className:"jsx-3080894e07ce8be molecule-depiction",children:d?(0,i.jsx)(s.Z,{}):p?(0,i.jsx)(u.Z,{message:p,onRetry:fetchDepiction}):o?(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:o},className:"jsx-3080894e07ce8be"}):(0,i.jsx)("div",{className:"jsx-3080894e07ce8be molecule-placeholder",children:'Enter a SMILES notation and click "View Molecule"'})})]}),(0,i.jsx)(r(),{id:"3080894e07ce8be",children:".molecule-viewer-card.jsx-3080894e07ce8be{max-width:800px}.molecule-input.jsx-3080894e07ce8be{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:10px;margin-bottom:20px}.smiles-input.jsx-3080894e07ce8be{padding:10px;border:1px solid#ddd;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-family:monospace;width:100%}.sample-molecules.jsx-3080894e07ce8be{margin-bottom:20px}.sample-buttons.jsx-3080894e07ce8be{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:10px;margin-top:10px}.sample-button.jsx-3080894e07ce8be{padding:8px 12px;background-color:#f0f0f0;border:1px solid#ddd;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;cursor:pointer;-webkit-transition:background-color.2s;-moz-transition:background-color.2s;-o-transition:background-color.2s;transition:background-color.2s}.sample-button.jsx-3080894e07ce8be:hover{background-color:#e0e0e0}.molecule-depiction.jsx-3080894e07ce8be{border:1px solid#ddd;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;padding:20px;min-height:300px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background-color:white}@media(max-width:600px){.sample-buttons.jsx-3080894e07ce8be{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}"})]})}},9185:function(e,t,o){"use strict";o.d(t,{AT:function(){return getMoleculeDepiction},GK:function(){return getMixtures},cZ:function(){return getMolecule},rY:function(){return getMixture},uL:function(){return getMolecules}});let i={HEROKU_API:"https://cryoprotect-8030e4025428.herokuapp.com/api",RDKIT_API:"https://cryoprotect-rdkit.fly.dev"},n={molecules:[{id:1,name:"Glycerol",formula:"C3H8O3",pubchem_cid:"753",molecular_weight:92.09,is_cryoprotectant:!0,description:"A common cryoprotectant used in various applications."},{id:2,name:"Dimethyl Sulfoxide (DMSO)",formula:"C2H6OS",pubchem_cid:"679",molecular_weight:78.13,is_cryoprotectant:!0,description:"A widely used penetrating cryoprotectant."},{id:3,name:"Ethylene Glycol",formula:"C2H6O2",pubchem_cid:"174",molecular_weight:62.07,is_cryoprotectant:!0,description:"Used in cryopreservation of embryos and tissues."},{id:4,name:"Propylene Glycol",formula:"C3H8O2",pubchem_cid:"1030",molecular_weight:76.09,is_cryoprotectant:!0,description:"Used as a cryoprotectant for various biological materials."}],mixtures:[{id:1,name:"VS55",description:"A cryoprotectant mixture used for organ preservation.",components:[{molecule:{id:1,name:"Glycerol",formula:"C3H8O3"},concentration:15,concentration_unit:"%",role:"Primary cryoprotectant"},{molecule:{id:2,name:"Dimethyl Sulfoxide (DMSO)",formula:"C2H6OS"},concentration:20,concentration_unit:"%",role:"Penetrating cryoprotectant"},{molecule:{id:3,name:"Ethylene Glycol",formula:"C2H6O2"},concentration:20,concentration_unit:"%",role:"Penetrating cryoprotectant"}]},{id:2,name:"Standard Cell Freezing Medium",description:"Common mixture for cell line preservation.",components:[{molecule:{id:2,name:"Dimethyl Sulfoxide (DMSO)",formula:"C2H6OS"},concentration:10,concentration_unit:"%",role:"Primary cryoprotectant"}]}]};async function fetchWithErrorHandling(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{let o=await fetch("".concat(i.HEROKU_API).concat(e),{...t,headers:{"Content-Type":"application/json",Accept:"application/json",...t.headers},mode:"cors",credentials:"omit"});if(!o.ok)throw Error("API error: ".concat(o.status," ").concat(o.statusText));return await o.json()}catch(t){if(console.error("API request failed:",t),o&&n[o])return console.info("Falling back to mock data for ".concat(e)),n[o];if(e.includes("/")&&o){let t=e.split("/").pop(),i=n[o];if(i&&Array.isArray(i)){let o=i.find(e=>e.id.toString()===t.toString());if(o)return console.info("Falling back to mock data for ".concat(e)),o}}throw t}}async function getMolecules(){return fetchWithErrorHandling("/molecules",{},"molecules")}async function getMolecule(e){return fetchWithErrorHandling("/molecules/".concat(e),{},"molecules")}async function getMixtures(){return fetchWithErrorHandling("/mixtures",{},"mixtures")}async function getMixture(e){return fetchWithErrorHandling("/mixtures/".concat(e),{},"mixtures")}async function getMoleculeDepiction(e){try{let t=await fetch("".concat(i.RDKIT_API,"/depict"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({smiles:e,width:300,height:200}),mode:"cors",credentials:"omit"});if(!t.ok)throw Error("RDKit API error: ".concat(t.status," ").concat(t.statusText));let o=await t.json();return o.svg||""}catch(e){return console.error("RDKit API request failed:",e),""}}}},function(e){e.O(0,[488,980,774,888,179],function(){return e(e.s=1515)}),_N_E=e.O()}]);