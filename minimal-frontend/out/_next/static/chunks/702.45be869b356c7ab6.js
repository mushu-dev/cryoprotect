"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{8702:function(e,o,i){i.r(o),i.d(o,{default:function(){return MoleculeViewer2D}});var t=i(5893),a=i(5379),r=i.n(a),l=i(7294),n=i(9185);function MoleculeViewer2D(e){let{smiles:o,name:i,formula:a,pubchem_cid:d}=e,[s,c]=(0,l.useState)(!0),[b,x]=(0,l.useState)(null),[m,f]=(0,l.useState)(""),[p,u]=(0,l.useState)(0),[g,k]=(0,l.useState)(""),w=(0,l.useRef)(null);(0,l.useEffect)(()=>{if(!o){x("No SMILES data provided"),c(!1);return}let fetchMoleculeDepiction=async()=>{try{c(!0),x(null),k("Generating molecule structure...");let e=await (0,n.AT)(o,{width:300,height:200,includeMoleculeDetails:!0});if(e){let o=e.replace("<svg ",'<svg aria-label="Molecular structure" role="img" ').replace(/id="mol/g,'id="mol-'.concat(i?i.toLowerCase().replace(/\s+/g,"-"):"molecule"));f(o)}else throw Error("Failed to generate molecule structure");c(!1),k("")}catch(e){if(console.error("Failed to load 2D structure:",e),p<3){let e=1e3*Math.pow(2,p);console.log("Retrying in ".concat(e/1e3,"s... (attempt ").concat(p+1,"/3)")),k("Connection issue. Retrying in ".concat(e/1e3,"s... (attempt ").concat(p+1,"/3)")),setTimeout(()=>{u(e=>e+1)},e)}else x("Failed to load 2D structure after multiple attempts"),c(!1),k("")}};fetchMoleculeDepiction()},[o,p]);let FallbackMolecule=()=>(0,t.jsx)("div",{className:"molecule-placeholder-structure","aria-hidden":"true",children:(0,t.jsxs)("div",{className:"atom-container",children:[(0,t.jsx)("div",{className:"atom-circle atom-oxygen",children:"O"}),(0,t.jsx)("div",{className:"bond bond-single"}),(0,t.jsx)("div",{className:"atom-circle atom-carbon",children:"C"}),(0,t.jsx)("div",{className:"bond bond-single vertical-bond"}),(0,t.jsx)("div",{className:"atom-circle atom-oxygen",children:"O"})]})});return(0,t.jsxs)("div",{className:"jsx-beb3f0d2adf95e0d molecule-viewer-2d",children:[(0,t.jsx)("h3",{className:"jsx-beb3f0d2adf95e0d viewer-title",children:"2D Structure"}),(0,t.jsx)("div",{ref:w,role:"img","aria-label":"2D structure of ".concat(i||"molecule"),className:"jsx-beb3f0d2adf95e0d molecule-viewer-container",children:s?(0,t.jsxs)("div",{className:"jsx-beb3f0d2adf95e0d molecule-viewer-loading",children:[(0,t.jsx)("div",{"aria-hidden":"true",className:"jsx-beb3f0d2adf95e0d viewer-spinner"}),(0,t.jsx)("p",{className:"jsx-beb3f0d2adf95e0d",children:g||"Generating structure..."})]}):b?(0,t.jsx)("div",{className:"jsx-beb3f0d2adf95e0d molecule-viewer-error",children:(0,t.jsxs)("div",{className:"jsx-beb3f0d2adf95e0d molecule-fallback",children:[(0,t.jsx)(FallbackMolecule,{className:"jsx-beb3f0d2adf95e0d"}),(0,t.jsx)("p",{className:"jsx-beb3f0d2adf95e0d error-message",children:b}),(0,t.jsx)("button",{onClick:()=>{u(0),x(null)},"aria-label":"Retry loading structure",className:"jsx-beb3f0d2adf95e0d retry-button",children:"Try Again"})]})}):(0,t.jsxs)("div",{className:"jsx-beb3f0d2adf95e0d molecule-depiction",children:[m?(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:m},"aria-hidden":"true",className:"jsx-beb3f0d2adf95e0d svg-container"}):(0,t.jsxs)("div",{className:"jsx-beb3f0d2adf95e0d molecule-fallback",children:[(0,t.jsx)(FallbackMolecule,{className:"jsx-beb3f0d2adf95e0d"}),(0,t.jsx)("p",{className:"jsx-beb3f0d2adf95e0d fallback-message",children:"Using simplified structure representation"})]}),(0,t.jsxs)("div",{className:"jsx-beb3f0d2adf95e0d molecule-details",children:[(0,t.jsx)("p",{id:"molecule-name-".concat(i?i.toLowerCase().replace(/\s+/g,"-"):"unknown"),className:"jsx-beb3f0d2adf95e0d molecule-name",children:i||"Molecule"}),a&&(0,t.jsx)("p",{title:"Molecular formula: ".concat(a),className:"jsx-beb3f0d2adf95e0d molecule-formula",children:a}),d&&(0,t.jsx)("p",{className:"jsx-beb3f0d2adf95e0d molecule-pubchem-link",children:(0,t.jsx)("a",{href:"https://pubchem.ncbi.nlm.nih.gov/compound/".concat(d),target:"_blank",rel:"noopener noreferrer","aria-label":"View ".concat(i||"molecule"," on PubChem (opens in new tab)"),className:"jsx-beb3f0d2adf95e0d pubchem-link",children:"View on PubChem"})}),o&&(0,t.jsxs)("div",{className:"jsx-beb3f0d2adf95e0d molecule-smiles-container",children:[(0,t.jsx)("p",{title:o,className:"jsx-beb3f0d2adf95e0d molecule-smiles",children:o.length>30?"".concat(o.substring(0,30),"..."):o}),(0,t.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(o).then(()=>alert("SMILES copied to clipboard")).catch(e=>console.error("Failed to copy SMILES:",e))},"aria-label":"Copy SMILES notation to clipboard",title:"Copy SMILES",className:"jsx-beb3f0d2adf95e0d copy-button",children:"Copy"})]})]})]})}),(0,t.jsx)(r(),{id:"beb3f0d2adf95e0d",children:".molecule-viewer-2d.jsx-beb3f0d2adf95e0d{width:100%;margin-top:5px}.viewer-title.jsx-beb3f0d2adf95e0d{margin-bottom:10px;color:#4a5568;font-size:1.1rem}.molecule-viewer-container.jsx-beb3f0d2adf95e0d{min-height:200px;background-color:#f8f9fa;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;border:1px solid#e2e8f0;padding:15px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.molecule-viewer-loading.jsx-beb3f0d2adf95e0d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;color:#4a5568;text-align:center;padding:0 20px}.viewer-spinner.jsx-beb3f0d2adf95e0d{width:30px;height:30px;border:3px solid rgba(0,112,243,.2);border-left-color:#0070f3;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-animation:spin 1s linear infinite;-moz-animation:spin 1s linear infinite;-o-animation:spin 1s linear infinite;animation:spin 1s linear infinite;margin-bottom:10px}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.molecule-viewer-error.jsx-beb3f0d2adf95e0d{width:100%;text-align:center}.molecule-fallback.jsx-beb3f0d2adf95e0d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.molecule-placeholder-structure.jsx-beb3f0d2adf95e0d{margin:10px 0 20px}.atom-container.jsx-beb3f0d2adf95e0d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;position:relative}.atom-circle.jsx-beb3f0d2adf95e0d{width:30px;height:30px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-weight:bold;color:white;font-size:14px}.atom-oxygen.jsx-beb3f0d2adf95e0d{background-color:#ff4d4d}.atom-carbon.jsx-beb3f0d2adf95e0d{background-color:#333}.bond.jsx-beb3f0d2adf95e0d{height:6px;background-color:#718096}.bond-single.jsx-beb3f0d2adf95e0d{width:35px}.vertical-bond.jsx-beb3f0d2adf95e0d{position:absolute;-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-ms-transform:rotate(90deg);-o-transform:rotate(90deg);transform:rotate(90deg);width:35px;top:45px;left:12px}.error-message.jsx-beb3f0d2adf95e0d{color:#e53e3e;font-size:.9rem;margin:0 0 10px 0}.fallback-message.jsx-beb3f0d2adf95e0d{color:#718096;font-size:.85rem;font-style:italic;margin:10px 0}.retry-button.jsx-beb3f0d2adf95e0d{background-color:#0070f3;color:white;padding:8px 12px;border:none;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;cursor:pointer;font-size:.9rem;-webkit-transition:background-color.2s;-moz-transition:background-color.2s;-o-transition:background-color.2s;transition:background-color.2s}.retry-button.jsx-beb3f0d2adf95e0d:hover{background-color:#0051b3}.molecule-depiction.jsx-beb3f0d2adf95e0d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;max-width:100%}.svg-container.jsx-beb3f0d2adf95e0d{max-width:100%;overflow:hidden}.svg-container.jsx-beb3f0d2adf95e0d svg.jsx-beb3f0d2adf95e0d{max-width:100%;height:auto;display:block}.molecule-details.jsx-beb3f0d2adf95e0d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-top:10px;width:100%}.molecule-name.jsx-beb3f0d2adf95e0d{font-weight:bold;margin-bottom:5px;text-align:center;color:#2d3748}.molecule-formula.jsx-beb3f0d2adf95e0d{font-family:monospace;color:#4a5568;margin:0 0 5px 0;background-color:#edf2f7;padding:3px 6px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:.9rem}.molecule-pubchem-link.jsx-beb3f0d2adf95e0d{margin-top:5px}.pubchem-link.jsx-beb3f0d2adf95e0d{color:#0070f3;font-size:.9rem;text-decoration:none;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transition:color.2s;-moz-transition:color.2s;-o-transition:color.2s;transition:color.2s}.pubchem-link.jsx-beb3f0d2adf95e0d:hover{color:#0051b3;text-decoration:underline}.molecule-smiles-container.jsx-beb3f0d2adf95e0d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-top:8px;max-width:100%;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:8px}.molecule-smiles.jsx-beb3f0d2adf95e0d{font-family:monospace;background-color:#edf2f7;padding:5px 10px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:.9rem;margin:0;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;max-width:250px}.copy-button.jsx-beb3f0d2adf95e0d{background-color:#0070f3;color:white;border:none;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;padding:5px 8px;font-size:.8rem;cursor:pointer;-webkit-transition:background-color.2s;-moz-transition:background-color.2s;-o-transition:background-color.2s;transition:background-color.2s}.copy-button.jsx-beb3f0d2adf95e0d:hover{background-color:#0051b3}@media(max-width:768px){.molecule-viewer-container.jsx-beb3f0d2adf95e0d{padding:10px}.molecule-formula.jsx-beb3f0d2adf95e0d{font-size:.8rem}.molecule-smiles.jsx-beb3f0d2adf95e0d{font-size:.8rem;max-width:200px}}"})]})}}}]);