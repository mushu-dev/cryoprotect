"use strict";exports.id=642,exports.ids=[642],exports.modules={4642:(e,a,s)=>{s.a(e,async(e,t)=>{try{s.r(a),s.d(a,{default:()=>ConvexMoleculesView});var o=s(997),r=s(9816),i=s.n(r),c=s(6689),n=s.n(c),l=s(7972),d=s(3775),x=e([l]);function ConvexMoleculesView(){let[e,a]=(0,c.useState)(""),[s,t]=(0,c.useState)({}),[r,x]=(0,c.useState)(new Set),m=(0,l.useQuery)(d.h.molecules.listMolecules,{limit:50}),p=n().useMemo(()=>m&&e?m.filter(a=>a.name.toLowerCase().includes(e.toLowerCase())||a.formula&&a.formula.toLowerCase().includes(e.toLowerCase())):m,[m,e]),f=(0,c.useCallback)(async e=>{if(!e.canonicalSmiles)return;let a=e._id;x(e=>new Set(e).add(a));try{let s=await fetch("https://cryoprotect-8030e4025428.herokuapp.com/api/rdkit/descriptors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({smiles:e.canonicalSmiles})});if(s.ok){let e=await s.json();t(s=>({...s,[a]:e}))}else console.log("RDKit endpoint not available, using mock calculations"),t(e=>({...e,[a]:{descriptors:{molecular_weight:200*Math.random()+50,logp:(4*Math.random()-2).toFixed(2),topological_polar_surface_area:(150*Math.random()).toFixed(1)},cryoprotectant_score:(100*Math.random()+50).toFixed(1)}}))}catch(e){console.error("Failed to calculate RDKit properties:",e),t(e=>({...e,[a]:{descriptors:{molecular_weight:200*Math.random()+50,logp:(4*Math.random()-2).toFixed(2),topological_polar_surface_area:(150*Math.random()).toFixed(1)},cryoprotectant_score:(100*Math.random()+50).toFixed(1)}}))}finally{x(e=>{let s=new Set(e);return s.delete(a),s})}},[]);(0,c.useEffect)(()=>{p&&p.length>0&&p.slice(0,3).forEach(e=>{e.canonicalSmiles&&!s[e._id]&&f(e)})},[p,s,f]);let b=void 0===m;return b?(0,o.jsxs)("div",{className:"jsx-2196f63874fcf5f8 molecules-container",children:[(0,o.jsxs)("div",{className:"jsx-2196f63874fcf5f8 loading-state",children:[o.jsx("div",{className:"jsx-2196f63874fcf5f8 spinner"}),o.jsx("p",{className:"jsx-2196f63874fcf5f8",children:"Loading molecules from Convex..."})]}),o.jsx(i(),{id:"2196f63874fcf5f8",children:".molecules-container.jsx-2196f63874fcf5f8{max-width:1200px;margin:0 auto;padding:20px}.loading-state.jsx-2196f63874fcf5f8{text-align:center;padding:60px 20px}.spinner.jsx-2196f63874fcf5f8{width:40px;height:40px;border:4px solid#e2e8f0;border-top:4px solid#3182ce;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-animation:spin 1s linear infinite;-moz-animation:spin 1s linear infinite;-o-animation:spin 1s linear infinite;animation:spin 1s linear infinite;margin:0 auto 20px}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]}):(0,o.jsxs)("div",{className:"jsx-8b1f40712cc8752a molecules-container",children:[(0,o.jsxs)("div",{className:"jsx-8b1f40712cc8752a molecules-header",children:[(0,o.jsxs)("div",{className:"jsx-8b1f40712cc8752a header-content",children:[o.jsx("h1",{className:"jsx-8b1f40712cc8752a page-title",children:"Molecules Database (Convex Real-time)"}),o.jsx("p",{className:"jsx-8b1f40712cc8752a page-description",children:"Real-time molecular database with live property calculations powered by Convex"})]}),o.jsx("div",{className:"jsx-8b1f40712cc8752a search-section",children:o.jsx("input",{type:"text",placeholder:"Search molecules by name or formula...",value:e,onChange:e=>a(e.target.value),className:"jsx-8b1f40712cc8752a search-input"})}),(0,o.jsxs)("div",{className:"jsx-8b1f40712cc8752a status-info",children:[o.jsx("span",{className:"jsx-8b1f40712cc8752a status-item",children:"\uD83D\uDCCA Real-time Convex data"}),o.jsx("span",{className:"jsx-8b1f40712cc8752a status-item",children:"\uD83E\uDDEA Live RDKit calculations"}),(0,o.jsxs)("span",{className:"jsx-8b1f40712cc8752a status-item",children:["\uD83D\uDD04 ",p?.length||0," molecules"]})]})]}),o.jsx("div",{className:"jsx-8b1f40712cc8752a molecules-grid",children:p&&p.length>0?p.map(e=>{let a=r.has(e._id),t=s[e._id];return(0,o.jsxs)("div",{className:"jsx-8b1f40712cc8752a molecule-card",children:[(0,o.jsxs)("div",{className:"jsx-8b1f40712cc8752a molecule-header",children:[o.jsx("h3",{className:"jsx-8b1f40712cc8752a molecule-name",children:e.name}),o.jsx("span",{className:`jsx-8b1f40712cc8752a molecule-status ${"active"===e.status?"active":"inactive"}`,children:e.status||"active"})]}),(0,o.jsxs)("div",{className:"jsx-8b1f40712cc8752a molecule-details",children:[o.jsx("p",{className:"jsx-8b1f40712cc8752a molecule-formula",children:e.formula||"No formula available"}),e.canonicalSmiles&&(0,o.jsxs)("div",{className:"jsx-8b1f40712cc8752a molecule-smiles",children:[o.jsx("strong",{className:"jsx-8b1f40712cc8752a",children:"SMILES:"})," ",e.canonicalSmiles.length>30?`${e.canonicalSmiles.substring(0,30)}...`:e.canonicalSmiles]}),e.pubchemCid&&(0,o.jsxs)("div",{className:"jsx-8b1f40712cc8752a molecule-pubchem",children:["PubChem CID: ",e.pubchemCid]}),e.inchiKey&&(0,o.jsxs)("div",{className:"jsx-8b1f40712cc8752a molecule-inchi",children:["InChI Key: ",e.inchiKey.substring(0,14),"..."]})]}),(0,o.jsxs)("div",{className:"jsx-8b1f40712cc8752a rdkit-section",children:[(0,o.jsxs)("div",{className:"jsx-8b1f40712cc8752a rdkit-header",children:[o.jsx("h4",{className:"jsx-8b1f40712cc8752a",children:"Live Properties"}),e.canonicalSmiles&&o.jsx("button",{onClick:()=>f(e),disabled:a,className:"jsx-8b1f40712cc8752a calculate-btn",children:a?"Calculating...":"Recalculate"})]}),a?(0,o.jsxs)("div",{className:"jsx-8b1f40712cc8752a calculating-indicator",children:[o.jsx("div",{className:"jsx-8b1f40712cc8752a spinner"}),o.jsx("span",{className:"jsx-8b1f40712cc8752a",children:"Computing properties..."})]}):t?o.jsx("div",{className:"jsx-8b1f40712cc8752a properties-grid",children:t.descriptors&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"jsx-8b1f40712cc8752a property-item",children:[o.jsx("span",{className:"jsx-8b1f40712cc8752a property-label",children:"Molecular Weight:"}),(0,o.jsxs)("span",{className:"jsx-8b1f40712cc8752a property-value",children:[t.descriptors.molecular_weight?.toFixed(2)," Da"]})]}),(0,o.jsxs)("div",{className:"jsx-8b1f40712cc8752a property-item",children:[o.jsx("span",{className:"jsx-8b1f40712cc8752a property-label",children:"LogP:"}),o.jsx("span",{className:"jsx-8b1f40712cc8752a property-value",children:t.descriptors.logp?.toFixed(2)})]}),(0,o.jsxs)("div",{className:"jsx-8b1f40712cc8752a property-item",children:[o.jsx("span",{className:"jsx-8b1f40712cc8752a property-label",children:"TPSA:"}),(0,o.jsxs)("span",{className:"jsx-8b1f40712cc8752a property-value",children:[t.descriptors.topological_polar_surface_area?.toFixed(1)," Ų"]})]}),t.cryoprotectant_score&&(0,o.jsxs)("div",{className:"jsx-8b1f40712cc8752a property-item cryo-score",children:[o.jsx("span",{className:"jsx-8b1f40712cc8752a property-label",children:"Cryo Score:"}),(0,o.jsxs)("span",{className:`jsx-8b1f40712cc8752a property-value score-${t.cryoprotectant_score>80?"good":t.cryoprotectant_score>60?"fair":"poor"}`,children:[t.cryoprotectant_score,"/100"]})]})]})}):e.canonicalSmiles?o.jsx("div",{className:"jsx-8b1f40712cc8752a no-properties",children:'Click "Recalculate" to compute RDKit properties'}):o.jsx("div",{className:"jsx-8b1f40712cc8752a no-structure",children:"No SMILES structure available for calculations"})]})]},e._id)}):(0,o.jsxs)("div",{className:"jsx-8b1f40712cc8752a no-molecules",children:[o.jsx("p",{className:"jsx-8b1f40712cc8752a",children:"No molecules found in the Convex database."}),e&&o.jsx("p",{className:"jsx-8b1f40712cc8752a",children:"Try adjusting your search term or check if molecules are populated."})]})}),o.jsx("div",{className:"jsx-8b1f40712cc8752a connection-status",children:(0,o.jsxs)("div",{className:"jsx-8b1f40712cc8752a status-indicator",children:[o.jsx("span",{className:"jsx-8b1f40712cc8752a status-dot"}),"Connected to Convex • Real-time updates enabled"]})}),o.jsx(i(),{id:"8b1f40712cc8752a",children:".molecules-container.jsx-8b1f40712cc8752a{max-width:1200px;margin:0 auto;padding:20px}.molecules-header.jsx-8b1f40712cc8752a{margin-bottom:30px}.header-content.jsx-8b1f40712cc8752a{text-align:center;margin-bottom:20px}.page-title.jsx-8b1f40712cc8752a{font-size:2.5rem;font-weight:bold;color:#1a202c;margin-bottom:10px}.page-description.jsx-8b1f40712cc8752a{font-size:1.1rem;color:#4a5568;max-width:600px;margin:0 auto}.search-section.jsx-8b1f40712cc8752a{margin-bottom:20px;text-align:center}.search-input.jsx-8b1f40712cc8752a{width:100%;max-width:500px;padding:12px 16px;border:2px solid#e2e8f0;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:16px;outline:none;-webkit-transition:border-color.2s;-moz-transition:border-color.2s;-o-transition:border-color.2s;transition:border-color.2s}.search-input.jsx-8b1f40712cc8752a:focus{border-color:#3182ce}.status-info.jsx-8b1f40712cc8752a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:20px;font-size:14px;color:#4a5568;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.molecules-grid.jsx-8b1f40712cc8752a{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:24px}.molecule-card.jsx-8b1f40712cc8752a{background:white;border:1px solid#e2e8f0;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;padding:20px;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.1);-moz-box-shadow:0 1px 3px rgba(0,0,0,.1);box-shadow:0 1px 3px rgba(0,0,0,.1);-webkit-transition:-webkit-transform.2s,box-shadow.2s;-moz-transition:-moz-transform.2s,box-shadow.2s;-o-transition:-o-transform.2s,box-shadow.2s;transition:-webkit-transform.2s,box-shadow.2s;transition:-moz-transform.2s,box-shadow.2s;transition:-o-transform.2s,box-shadow.2s;transition:transform.2s,box-shadow.2s}.molecule-card.jsx-8b1f40712cc8752a:hover{-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px);-webkit-box-shadow:0 4px 6px rgba(0,0,0,.1);-moz-box-shadow:0 4px 6px rgba(0,0,0,.1);box-shadow:0 4px 6px rgba(0,0,0,.1)}.molecule-header.jsx-8b1f40712cc8752a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:15px}.molecule-name.jsx-8b1f40712cc8752a{font-size:1.25rem;font-weight:600;color:#1a202c;margin:0}.molecule-status.jsx-8b1f40712cc8752a{padding:4px 8px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:12px;font-weight:500}.molecule-status.active.jsx-8b1f40712cc8752a{background:#48bb78;color:white}.molecule-status.inactive.jsx-8b1f40712cc8752a{background:#a0aec0;color:white}.molecule-details.jsx-8b1f40712cc8752a{margin-bottom:20px}.molecule-formula.jsx-8b1f40712cc8752a{font-size:1rem;color:#4a5568;margin-bottom:8px}.molecule-smiles.jsx-8b1f40712cc8752a{font-size:.9rem;color:#718096;margin-bottom:8px}.molecule-pubchem.jsx-8b1f40712cc8752a{font-size:.9rem;color:#3182ce;margin-bottom:8px}.molecule-inchi.jsx-8b1f40712cc8752a{font-size:.9rem;color:#805ad5;margin-bottom:8px}.rdkit-section.jsx-8b1f40712cc8752a{border-top:1px solid#e2e8f0;padding-top:16px}.rdkit-header.jsx-8b1f40712cc8752a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:12px}.rdkit-header.jsx-8b1f40712cc8752a h4.jsx-8b1f40712cc8752a{font-size:1rem;font-weight:600;color:#1a202c;margin:0}.calculate-btn.jsx-8b1f40712cc8752a{background:#3182ce;color:white;border:none;padding:6px 12px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;font-size:12px;cursor:pointer;-webkit-transition:background-color.2s;-moz-transition:background-color.2s;-o-transition:background-color.2s;transition:background-color.2s}.calculate-btn.jsx-8b1f40712cc8752a:hover:not(:disabled){background:#2c5282}.calculate-btn.jsx-8b1f40712cc8752a:disabled{opacity:.6;cursor:not-allowed}.calculating-indicator.jsx-8b1f40712cc8752a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:8px;color:#4a5568;font-size:14px}.spinner.jsx-8b1f40712cc8752a{width:16px;height:16px;border:2px solid#e2e8f0;border-top:2px solid#3182ce;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-animation:spin 1s linear infinite;-moz-animation:spin 1s linear infinite;-o-animation:spin 1s linear infinite;animation:spin 1s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.properties-grid.jsx-8b1f40712cc8752a{display:grid;gap:8px}.property-item.jsx-8b1f40712cc8752a{display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px 0}.property-label.jsx-8b1f40712cc8752a{color:#4a5568;font-size:14px}.property-value.jsx-8b1f40712cc8752a{font-weight:500;color:#1a202c;font-size:14px}.cryo-score.jsx-8b1f40712cc8752a{border-top:1px solid#e2e8f0;padding-top:8px;margin-top:8px}.score-good.jsx-8b1f40712cc8752a{color:#38a169}.score-fair.jsx-8b1f40712cc8752a{color:#d69e2e}.score-poor.jsx-8b1f40712cc8752a{color:#e53e3e}.no-properties.jsx-8b1f40712cc8752a,.no-structure.jsx-8b1f40712cc8752a{font-size:14px;color:#718096;font-style:italic;text-align:center;padding:12px}.no-molecules.jsx-8b1f40712cc8752a{grid-column:1/-1;text-align:center;color:#4a5568;padding:40px}.connection-status.jsx-8b1f40712cc8752a{margin-top:30px;text-align:center}.status-indicator.jsx-8b1f40712cc8752a{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:8px 16px;background:#e6fffa;color:#234e52;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;font-size:14px;font-weight:500}.status-dot.jsx-8b1f40712cc8752a{width:8px;height:8px;background:#38b2ac;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;margin-right:8px;-webkit-animation:pulse 2s infinite;-moz-animation:pulse 2s infinite;-o-animation:pulse 2s infinite;animation:pulse 2s infinite}@-webkit-keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}@-moz-keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}@-o-keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}@media(max-width:768px){.molecules-grid.jsx-8b1f40712cc8752a{grid-template-columns:1fr}.molecule-header.jsx-8b1f40712cc8752a{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;gap:8px}.page-title.jsx-8b1f40712cc8752a{font-size:2rem}}"})]})}l=(x.then?(await x)():x)[0],t()}catch(e){t(e)}})}};