"use strict";exports.id=588,exports.ids=[588],exports.modules={5588:(e,o,t)=>{t.r(o),t.d(o,{default:()=>MoleculeViewer3D});var r=t(997),a=t(9816),i=t.n(a),n=t(6689);function MoleculeViewer3D({smiles:e,name:o,pubchem_cid:t}){let a=(0,n.useRef)(null),l=(0,n.useRef)(null),[s,f]=(0,n.useState)(!0),[c,d]=(0,n.useState)(null),[m,x]=(0,n.useState)(null),[b,p]=(0,n.useState)("ball-and-stick"),[u,g]=(0,n.useState)(0),[w,k]=(0,n.useState)("");(0,n.useEffect)(()=>{if(!a.current)return;let loadMolstarLibrary=async()=>{try{k("Initializing 3D viewer..."),console.log("Preparing Mol* integration for",o||"molecule"),await new Promise(e=>setTimeout(e,800)),x({smiles:e,name:o,pubchem_cid:t,loaded:!0}),k(""),f(!1)}catch(e){console.error("Failed to load Mol* library:",e),d("Failed to initialize 3D viewer. Please try again later."),f(!1),k("")}};return loadMolstarLibrary(),()=>{l.current&&(l.current=null)}},[]),(0,n.useEffect)(()=>{if(!e&&!t){d("No molecule data provided"),f(!1);return}let loadMoleculeStructure=async()=>{try{f(!0),d(null),t?k(`Loading 3D structure for ${o||"molecule"} (PubChem CID: ${t})...`):k("Generating 3D structure from SMILES..."),t?(console.log(`Loading 3D structure from PubChem CID: ${t}`),await new Promise(e=>setTimeout(e,600))):e&&(console.log(`Converting SMILES to 3D structure: ${e}`),await new Promise(e=>setTimeout(e,800))),x({smiles:e,name:o,pubchem_cid:t,loaded:!0}),k(""),f(!1)}catch(e){if(console.error("Failed to load 3D structure:",e),u<3){let e=1e3*Math.pow(2,u);k(`Connection issue. Retrying in ${e/1e3}s... (attempt ${u+1}/3)`),setTimeout(()=>{g(e=>e+1)},e)}else d("Failed to load 3D structure after multiple attempts. Please try again later."),f(!1),k("")}};(!m?.loaded||u>0)&&loadMoleculeStructure()},[e,o,t,u]);let handleZoom=(e=1.2)=>{console.log("Zoom molecule by factor",e)};return(0,r.jsxs)("div",{className:"jsx-8df28f654f3cfa47 molecule-viewer-3d",children:[r.jsx("div",{ref:a,role:"application","aria-label":`3D visualization of ${o||"molecule"}`,className:"jsx-8df28f654f3cfa47 molecule-viewer-container",children:s?(0,r.jsxs)("div",{className:"jsx-8df28f654f3cfa47 molecule-viewer-loading",children:[r.jsx("div",{"aria-hidden":"true",className:"jsx-8df28f654f3cfa47 viewer-spinner"}),r.jsx("p",{className:"jsx-8df28f654f3cfa47",children:w||"Loading 3D structure..."})]}):c?(0,r.jsxs)("div",{className:"jsx-8df28f654f3cfa47 molecule-viewer-error",children:[r.jsx("p",{className:"jsx-8df28f654f3cfa47",children:c}),r.jsx("button",{onClick:()=>{g(0),d(null)},"aria-label":"Retry loading 3D structure",className:"jsx-8df28f654f3cfa47 retry-button",children:"Try Again"})]}):r.jsx("div",{className:"jsx-8df28f654f3cfa47 molecule-viewer-canvas",children:(0,r.jsxs)("div",{className:"jsx-8df28f654f3cfa47 molecule-viewer-placeholder",children:[(0,r.jsxs)("div",{"aria-hidden":"true",className:"jsx-8df28f654f3cfa47 molecule-3d-model",children:[r.jsx("div",{className:"jsx-8df28f654f3cfa47 atom atom-1"}),r.jsx("div",{className:"jsx-8df28f654f3cfa47 atom atom-2"}),r.jsx("div",{className:"jsx-8df28f654f3cfa47 atom atom-3"}),r.jsx("div",{className:"jsx-8df28f654f3cfa47 atom atom-4"}),r.jsx("div",{className:"jsx-8df28f654f3cfa47 bond bond-1"}),r.jsx("div",{className:"jsx-8df28f654f3cfa47 bond bond-2"}),r.jsx("div",{className:"jsx-8df28f654f3cfa47 bond bond-3"})]}),(0,r.jsxs)("div",{className:"jsx-8df28f654f3cfa47 molecule-info",children:[r.jsx("p",{className:"jsx-8df28f654f3cfa47 molecule-name",children:o||"Molecule"}),t&&r.jsx("p",{className:"jsx-8df28f654f3cfa47 molecule-pubchem",children:r.jsx("a",{href:`https://pubchem.ncbi.nlm.nih.gov/compound/${t}`,target:"_blank",rel:"noopener noreferrer","aria-label":`View ${o||"molecule"} on PubChem (opens in new tab)`,className:"jsx-8df28f654f3cfa47 pubchem-link",children:"View on PubChem"})}),e&&r.jsx("p",{title:e,className:"jsx-8df28f654f3cfa47 molecule-smiles",children:e.length>30?`${e.substring(0,30)}...`:e}),(0,r.jsxs)("p",{className:"jsx-8df28f654f3cfa47 viewer-mode-info",children:["Viewing mode: ",r.jsx("strong",{className:"jsx-8df28f654f3cfa47",children:b})]})]})]})})}),(0,r.jsxs)("div",{role:"toolbar","aria-label":"Molecule viewer controls",className:"jsx-8df28f654f3cfa47 molecule-viewer-controls",children:[r.jsx("button",{onClick:()=>{console.log("Rotate molecule")},"aria-label":"Rotate molecule",disabled:s||!!c,className:"jsx-8df28f654f3cfa47 control-button",children:"Rotate"}),(0,r.jsxs)("div",{className:"jsx-8df28f654f3cfa47 zoom-controls",children:[r.jsx("button",{onClick:()=>handleZoom(1.2),"aria-label":"Zoom in",disabled:s||!!c,className:"jsx-8df28f654f3cfa47 control-button zoom-button",children:"Zoom +"}),r.jsx("button",{onClick:()=>handleZoom(.8),"aria-label":"Zoom out",disabled:s||!!c,className:"jsx-8df28f654f3cfa47 control-button zoom-button",children:"Zoom -"})]}),r.jsx("button",{onClick:()=>{console.log("Reset view")},"aria-label":"Reset view",disabled:s||!!c,className:"jsx-8df28f654f3cfa47 control-button",children:"Reset"}),r.jsx("div",{className:"jsx-8df28f654f3cfa47 select-wrapper",children:(0,r.jsxs)("select",{value:b,onChange:e=>{let o=e.target.value;p(o),console.log("Change view mode to",o)},"aria-label":"Change molecule representation style",disabled:s||!!c,className:"jsx-8df28f654f3cfa47 control-select",children:[r.jsx("option",{value:"ball-and-stick",className:"jsx-8df28f654f3cfa47",children:"Ball and Stick"}),r.jsx("option",{value:"space-filling",className:"jsx-8df28f654f3cfa47",children:"Space Filling"}),r.jsx("option",{value:"wireframe",className:"jsx-8df28f654f3cfa47",children:"Wireframe"}),r.jsx("option",{value:"cartoon",className:"jsx-8df28f654f3cfa47",children:"Cartoon"}),r.jsx("option",{value:"surface",className:"jsx-8df28f654f3cfa47",children:"Surface"})]})})]}),r.jsx(i(),{id:"8df28f654f3cfa47",children:'.molecule-viewer-3d.jsx-8df28f654f3cfa47{width:100%;margin-top:15px}.molecule-viewer-container.jsx-8df28f654f3cfa47{height:400px;background-color:#f8f9fa;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;border:1px solid#e2e8f0;overflow:hidden;position:relative}.molecule-viewer-loading.jsx-8df28f654f3cfa47{height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;color:#4a5568;text-align:center;padding:0 20px}.viewer-spinner.jsx-8df28f654f3cfa47{width:40px;height:40px;border:4px solid rgba(0,112,243,.2);border-left-color:#0070f3;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-animation:spin 1s linear infinite;-moz-animation:spin 1s linear infinite;-o-animation:spin 1s linear infinite;animation:spin 1s linear infinite;margin-bottom:10px}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.molecule-viewer-error.jsx-8df28f654f3cfa47{height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;color:#e53e3e;padding:0 20px;text-align:center}.retry-button.jsx-8df28f654f3cfa47{margin-top:15px;background-color:#0070f3;color:white;border:none;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;padding:8px 16px;cursor:pointer;font-weight:500;-webkit-transition:background-color.2s;-moz-transition:background-color.2s;-o-transition:background-color.2s;transition:background-color.2s}.retry-button.jsx-8df28f654f3cfa47:hover{background-color:#0051b3}.molecule-viewer-canvas.jsx-8df28f654f3cfa47{height:100%;width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.molecule-viewer-placeholder.jsx-8df28f654f3cfa47{text-align:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.molecule-3d-model.jsx-8df28f654f3cfa47{width:180px;height:180px;position:relative;margin:0 auto 20px;-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-animation:rotate 15s infinite linear;-moz-animation:rotate 15s infinite linear;-o-animation:rotate 15s infinite linear;animation:rotate 15s infinite linear}@-webkit-keyframes rotate{from{-webkit-transform:rotatey(0deg)rotatex(15deg);transform:rotatey(0deg)rotatex(15deg)}to{-webkit-transform:rotatey(360deg)rotatex(15deg);transform:rotatey(360deg)rotatex(15deg)}}@-moz-keyframes rotate{from{-moz-transform:rotatey(0deg)rotatex(15deg);transform:rotatey(0deg)rotatex(15deg)}to{-moz-transform:rotatey(360deg)rotatex(15deg);transform:rotatey(360deg)rotatex(15deg)}}@-o-keyframes rotate{from{transform:rotatey(0deg)rotatex(15deg)}to{transform:rotatey(360deg)rotatex(15deg)}}@keyframes rotate{from{-webkit-transform:rotatey(0deg)rotatex(15deg);-moz-transform:rotatey(0deg)rotatex(15deg);transform:rotatey(0deg)rotatex(15deg)}to{-webkit-transform:rotatey(360deg)rotatex(15deg);-moz-transform:rotatey(360deg)rotatex(15deg);transform:rotatey(360deg)rotatex(15deg)}}.atom.jsx-8df28f654f3cfa47{position:absolute;width:30px;height:30px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;opacity:.8}.atom-1.jsx-8df28f654f3cfa47{background-color:#ff4d4d;-webkit-transform:translatez(60px);-moz-transform:translatez(60px);transform:translatez(60px)}.atom-2.jsx-8df28f654f3cfa47{background-color:#4dabff;-webkit-transform:translatez(-60px);-moz-transform:translatez(-60px);transform:translatez(-60px)}.atom-3.jsx-8df28f654f3cfa47{background-color:#ffcc4d;-webkit-transform:translatex(60px);-moz-transform:translatex(60px);-ms-transform:translatex(60px);-o-transform:translatex(60px);transform:translatex(60px)}.atom-4.jsx-8df28f654f3cfa47{background-color:#4dff77;-webkit-transform:translatex(-60px);-moz-transform:translatex(-60px);-ms-transform:translatex(-60px);-o-transform:translatex(-60px);transform:translatex(-60px)}.bond.jsx-8df28f654f3cfa47{position:absolute;background-color:#999;width:10px;height:120px;top:-45px;left:85px}.bond-1.jsx-8df28f654f3cfa47{-webkit-transform:rotatey(0deg);-moz-transform:rotatey(0deg);transform:rotatey(0deg)}.bond-2.jsx-8df28f654f3cfa47{-webkit-transform:rotatey(60deg);-moz-transform:rotatey(60deg);transform:rotatey(60deg)}.bond-3.jsx-8df28f654f3cfa47{-webkit-transform:rotatey(120deg);-moz-transform:rotatey(120deg);transform:rotatey(120deg)}.molecule-info.jsx-8df28f654f3cfa47{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:5px}.molecule-name.jsx-8df28f654f3cfa47{font-weight:bold;font-size:1.2rem;margin-bottom:2px}.molecule-pubchem.jsx-8df28f654f3cfa47{margin:0 0 5px 0}.pubchem-link.jsx-8df28f654f3cfa47{color:#0070f3;text-decoration:none;font-size:.9rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transition:color.2s;-moz-transition:color.2s;-o-transition:color.2s;transition:color.2s}.pubchem-link.jsx-8df28f654f3cfa47:hover{color:#0051b3;text-decoration:underline}.molecule-smiles.jsx-8df28f654f3cfa47{font-family:monospace;background-color:#edf2f7;padding:5px 10px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;display:inline-block;font-size:.9rem;margin:5px 0;max-width:100%;overflow-x:auto}.viewer-mode-info.jsx-8df28f654f3cfa47{font-size:.9rem;color:#4a5568;margin-top:5px}.molecule-viewer-controls.jsx-8df28f654f3cfa47{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:10px;margin-top:15px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.control-button.jsx-8df28f654f3cfa47{padding:8px 16px;background-color:#0070f3;color:white;border:none;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;cursor:pointer;font-weight:500;-webkit-transition:background-color.2s;-moz-transition:background-color.2s;-o-transition:background-color.2s;transition:background-color.2s}.control-button.jsx-8df28f654f3cfa47:hover:not(:disabled){background-color:#0051b3}.control-button.jsx-8df28f654f3cfa47:disabled{background-color:#a0aec0;cursor:not-allowed}.zoom-controls.jsx-8df28f654f3cfa47{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:4px}.zoom-button.jsx-8df28f654f3cfa47{padding:8px 12px}.select-wrapper.jsx-8df28f654f3cfa47{position:relative}.control-select.jsx-8df28f654f3cfa47{padding:8px 16px;border:1px solid#e2e8f0;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;background-color:white;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;padding-right:30px}.control-select.jsx-8df28f654f3cfa47:disabled{background-color:#edf2f7;color:#a0aec0;cursor:not-allowed}.select-wrapper.jsx-8df28f654f3cfa47::after{content:"";position:absolute;right:12px;top:50%;-webkit-transform:translatey(-50%);-moz-transform:translatey(-50%);-ms-transform:translatey(-50%);-o-transform:translatey(-50%);transform:translatey(-50%);width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid#718096;pointer-events:none}@media(max-width:768px){.molecule-viewer-container.jsx-8df28f654f3cfa47{height:300px}.molecule-smiles.jsx-8df28f654f3cfa47{font-size:.8rem;max-width:250px;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.molecule-viewer-controls.jsx-8df28f654f3cfa47{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.control-button.jsx-8df28f654f3cfa47,.control-select.jsx-8df28f654f3cfa47{width:100%;max-width:250px}}'})]})}}};