(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[279],{4370:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mixtures/[id]",function(){return r(7566)}])},5177:function(e,t,r){"use strict";r.d(t,{Z:function(){return ErrorMessage}});var n=r(5893);function ErrorMessage(e){let{message:t,onRetry:r}=e;return(0,n.jsxs)("div",{className:"error-message",children:[(0,n.jsx)("h3",{children:"Error"}),(0,n.jsx)("p",{children:t||"An error occurred while fetching data."}),r&&(0,n.jsx)("button",{className:"button",onClick:r,children:"Retry"})]})}r(7294)},8980:function(e,t,r){"use strict";r.d(t,{Z:function(){return Layout}});var n=r(5893);r(7294);var i=r(9008),o=r.n(i),c=r(1664),a=r.n(c);function Layout(e){let{children:t,title:r="CryoProtect"}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o(),{children:[(0,n.jsxs)("title",{children:[r," | CryoProtect"]}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,n.jsx)("meta",{name:"description",content:"Cryoprotectant research and analysis platform"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)("header",{className:"header",children:[(0,n.jsx)(a(),{href:"/",children:(0,n.jsx)("span",{className:"header-logo",children:"CryoProtect"})}),(0,n.jsx)("nav",{children:(0,n.jsxs)("ul",{className:"nav-links",children:[(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/molecules",children:"Molecules"})}),(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/mixtures",children:"Mixtures"})}),(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/protocols",children:"Protocols"})}),(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/experiments",children:"Experiments"})}),(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/about",children:"About"})}),(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/connections",children:"Connections"})}),(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/molecule-viewer",children:"Molecule Viewer"})})]})})]}),(0,n.jsx)("main",{className:"main",children:t}),(0,n.jsx)("footer",{className:"footer",children:(0,n.jsxs)("div",{className:"footer-content",children:[(0,n.jsxs)("div",{className:"footer-copyright",children:["\xa9 ",new Date().getFullYear()," CryoProtect - All rights reserved"]}),(0,n.jsxs)("div",{className:"footer-links",children:[(0,n.jsx)(a(),{href:"/about",children:"About"}),(0,n.jsx)("span",{className:"footer-separator",children:"|"}),(0,n.jsx)(a(),{href:"/",children:"Home"})]})]})})]})}},5179:function(e,t,r){"use strict";r.d(t,{Z:function(){return Loading}});var n=r(5893);function Loading(){return(0,n.jsxs)("div",{className:"loading-container",children:[(0,n.jsx)("div",{className:"loading-spinner"}),(0,n.jsx)("p",{children:"Loading data..."})]})}r(7294)},7566:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return h},default:function(){return MixtureDetail}});var n=r(5893),i=r(7294),o=r(1163),c=r(1664),a=r.n(c),l=r(8980),s=r(5179),d=r(5177),u=r(9185);let m=[{id:1,name:"VS55",description:"A cryoprotectant mixture used for organ preservation.",freezing_point:-80,created_at:"2024-05-01T12:00:00Z",components:[{molecule:{id:1,name:"Glycerol",formula:"C3H8O3"},concentration:15,concentration_unit:"%",role:"Primary cryoprotectant"},{molecule:{id:2,name:"Dimethyl Sulfoxide (DMSO)",formula:"C2H6OS"},concentration:20,concentration_unit:"%",role:"Penetrating cryoprotectant"},{molecule:{id:3,name:"Ethylene Glycol",formula:"C2H6O2"},concentration:20,concentration_unit:"%",role:"Penetrating cryoprotectant"}],properties:[{name:"Glass Transition Temperature",value:"-123",units:"\xb0C"},{name:"Toxicity",value:"Low",units:""},{name:"Viscosity",value:"4.2",units:"cP"}]},{id:2,name:"Standard Cell Freezing Medium",description:"Common mixture for cell line preservation.",freezing_point:-20,created_at:"2024-05-02T10:30:00Z",components:[{molecule:{id:2,name:"Dimethyl Sulfoxide (DMSO)",formula:"C2H6OS"},concentration:10,concentration_unit:"%",role:"Primary cryoprotectant"}],properties:[{name:"Glass Transition Temperature",value:"-132",units:"\xb0C"},{name:"Toxicity",value:"Medium",units:""}]}];var h=!0;function MixtureDetail(e){let{initialMixture:t,id:r}=e;(0,o.useRouter)();let[c,h]=(0,i.useState)(t),[p,x]=(0,i.useState)(!1),[f,j]=(0,i.useState)(null);(0,i.useEffect)(()=>{t?(h(t),x(!1)):r&&fetchMixture(r)},[]);let fetchMixture=async e=>{try{x(!0),j(null);let t=await (0,u.rY)(e);h(t)}catch(r){console.error("Failed to fetch mixture:",r);let t=m.find(t=>t.id.toString()===e.toString());t?h(t):j("Failed to fetch mixture details. Please try again later.")}finally{x(!1)}};return r||t?(0,n.jsxs)(l.Z,{title:c?"".concat(c.name||"Mixture"," Details"):"Mixture Detail",children:[(0,n.jsxs)("div",{className:"page-header",children:[(0,n.jsx)(a(),{href:"/mixtures",children:(0,n.jsx)("span",{className:"back-link",children:"â† Back to Mixtures"})}),(0,n.jsx)("h1",{className:"title",children:c?c.name||"Unnamed Mixture":"Mixture Detail"})]}),p?(0,n.jsx)(s.Z,{}):f?(0,n.jsx)(d.Z,{message:f,onRetry:()=>fetchMixture(r)}):c?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"mixture-detail-container",children:[(0,n.jsxs)("div",{className:"card mixture-detail-card",children:[(0,n.jsx)("h2",{className:"subtitle",children:"Basic Information"}),c.description&&(0,n.jsx)("p",{className:"mixture-description",children:c.description}),(0,n.jsxs)("div",{className:"property-group",children:[c.id&&(0,n.jsxs)("div",{className:"property-row",children:[(0,n.jsx)("span",{className:"property-label",children:"Mixture ID:"}),(0,n.jsx)("span",{className:"property-value",children:c.id})]}),c.freezing_point&&(0,n.jsxs)("div",{className:"property-row",children:[(0,n.jsx)("span",{className:"property-label",children:"Freezing Point:"}),(0,n.jsxs)("span",{className:"property-value",children:[c.freezing_point," \xb0C"]})]}),c.created_at&&(0,n.jsxs)("div",{className:"property-row",children:[(0,n.jsx)("span",{className:"property-label",children:"Created:"}),(0,n.jsx)("span",{className:"property-value",children:new Date(c.created_at).toLocaleDateString()})]})]})]}),c.components&&c.components.length>0&&(0,n.jsxs)("div",{className:"card mixture-detail-card",children:[(0,n.jsx)("h2",{className:"subtitle",children:"Components"}),(0,n.jsx)("div",{className:"components-list",children:c.components.map((e,t)=>{var r,i,o;return(0,n.jsxs)("div",{className:"component-item",children:[(0,n.jsxs)("div",{className:"component-header",children:[(0,n.jsx)("strong",{children:(null===(r=e.molecule)||void 0===r?void 0:r.name)||"Unnamed Molecule"}),e.concentration&&(0,n.jsxs)("span",{className:"component-concentration",children:[e.concentration," ",e.concentration_unit||"%"]})]}),(null===(i=e.molecule)||void 0===i?void 0:i.formula)&&(0,n.jsx)("div",{className:"component-formula",children:e.molecule.formula}),e.role&&(0,n.jsxs)("div",{className:"component-role",children:["Role: ",e.role]}),(null===(o=e.molecule)||void 0===o?void 0:o.id)&&(0,n.jsx)("div",{className:"component-link",children:(0,n.jsx)(a(),{href:"/molecules/".concat(e.molecule.id),children:"View Molecule Details"})})]},t)})})]}),(0,n.jsxs)("div",{className:"card mixture-detail-card",children:[(0,n.jsx)("h2",{className:"subtitle",children:"Visualization"}),(0,n.jsx)("p",{className:"description",children:"Interactive composition visualization will be available soon."}),(0,n.jsx)("div",{className:"mixture-placeholder",children:"Mixture composition chart placeholder"})]}),c.properties&&c.properties.length>0&&(0,n.jsxs)("div",{className:"card mixture-detail-card",children:[(0,n.jsx)("h2",{className:"subtitle",children:"Properties"}),(0,n.jsx)("div",{className:"property-group",children:c.properties.map((e,t)=>(0,n.jsxs)("div",{className:"property-row",children:[(0,n.jsxs)("span",{className:"property-label",children:[e.name||"Property",":"]}),(0,n.jsxs)("span",{className:"property-value",children:[e.value," ",e.units||""]})]},t))})]})]}),(0,n.jsx)("div",{className:"actions-container",children:(0,n.jsx)(a(),{href:"/mixtures",children:(0,n.jsx)("span",{className:"button",children:"Back to Mixtures"})})})]}):(0,n.jsxs)("div",{className:"card",children:[(0,n.jsxs)("p",{children:["No mixture found with ID: ",r]}),(0,n.jsx)(a(),{href:"/mixtures",children:(0,n.jsx)("span",{className:"button",children:"Back to Mixtures"})})]})]}):(0,n.jsxs)(l.Z,{title:"Mixture Detail",children:[(0,n.jsx)("div",{className:"page-header",children:(0,n.jsx)("h1",{className:"title",children:"Mixture Detail"})}),(0,n.jsx)("div",{className:"card",children:(0,n.jsx)("p",{children:"Loading mixture ID..."})})]})}},9185:function(e,t,r){"use strict";r.d(t,{AT:function(){return getMoleculeDepiction},GK:function(){return getMixtures},cZ:function(){return getMolecule},rY:function(){return getMixture},uL:function(){return getMolecules}});var n=r(3430),i=r(3454);let o={HEROKU_API:"https://cryoprotect-8030e4025428.herokuapp.com/api",RDKIT_API:"https://cryoprotect-rdkit.fly.dev"},c="true"===i.env.NEXT_PUBLIC_USE_CONVEX,a={molecules:[{id:1,name:"Glycerol",formula:"C3H8O3",pubchem_cid:"753",molecular_weight:92.09,is_cryoprotectant:!0,description:"A common cryoprotectant used in various applications."},{id:2,name:"Dimethyl Sulfoxide (DMSO)",formula:"C2H6OS",pubchem_cid:"679",molecular_weight:78.13,is_cryoprotectant:!0,description:"A widely used penetrating cryoprotectant."},{id:3,name:"Ethylene Glycol",formula:"C2H6O2",pubchem_cid:"174",molecular_weight:62.07,is_cryoprotectant:!0,description:"Used in cryopreservation of embryos and tissues."},{id:4,name:"Propylene Glycol",formula:"C3H8O2",pubchem_cid:"1030",molecular_weight:76.09,is_cryoprotectant:!0,description:"Used as a cryoprotectant for various biological materials."}],mixtures:[{id:1,name:"VS55",description:"A cryoprotectant mixture used for organ preservation.",components:[{molecule:{id:1,name:"Glycerol",formula:"C3H8O3"},concentration:15,concentration_unit:"%",role:"Primary cryoprotectant"},{molecule:{id:2,name:"Dimethyl Sulfoxide (DMSO)",formula:"C2H6OS"},concentration:20,concentration_unit:"%",role:"Penetrating cryoprotectant"},{molecule:{id:3,name:"Ethylene Glycol",formula:"C2H6O2"},concentration:20,concentration_unit:"%",role:"Penetrating cryoprotectant"}]},{id:2,name:"Standard Cell Freezing Medium",description:"Common mixture for cell line preservation.",components:[{molecule:{id:2,name:"Dimethyl Sulfoxide (DMSO)",formula:"C2H6OS"},concentration:10,concentration_unit:"%",role:"Primary cryoprotectant"}]}]};async function fetchWithErrorHandling(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{let r=await fetch("".concat(o.HEROKU_API).concat(e),{...t,headers:{"Content-Type":"application/json",Accept:"application/json",...t.headers},mode:"cors",credentials:"omit"});if(!r.ok)throw Error("API error: ".concat(r.status," ").concat(r.statusText));return await r.json()}catch(t){if(console.error("API request failed:",t),r&&a[r])return console.info("Falling back to mock data for ".concat(e)),a[r];if(e.includes("/")&&r){let t=e.split("/").pop(),n=a[r];if(n&&Array.isArray(n)){let r=n.find(e=>e.id.toString()===t.toString());if(r)return console.info("Falling back to mock data for ".concat(e)),r}}throw t}}async function getMolecules(){if(c&&n.i)try{console.log("Convex integration for getMolecules will be implemented")}catch(e){console.error("Convex query failed:",e)}return fetchWithErrorHandling("/molecules",{},"molecules")}async function getMolecule(e){if(c&&n.i)try{console.log("Convex integration for getMolecule will be implemented")}catch(e){console.error("Convex query failed:",e)}return fetchWithErrorHandling("/molecules/".concat(e),{},"molecules")}async function getMixtures(){if(c&&n.i)try{console.log("Convex integration for getMixtures will be implemented")}catch(e){console.error("Convex query failed:",e)}return fetchWithErrorHandling("/mixtures",{},"mixtures")}async function getMixture(e){if(c&&n.i)try{console.log("Convex integration for getMixture will be implemented")}catch(e){console.error("Convex query failed:",e)}return fetchWithErrorHandling("/mixtures/".concat(e),{},"mixtures")}async function getMoleculeDepiction(e){try{let t=await fetch("".concat(o.RDKIT_API,"/depict"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({smiles:e,width:300,height:200}),mode:"cors",credentials:"omit"});if(!t.ok)throw Error("RDKit API error: ".concat(t.status," ").concat(t.statusText));let r=await t.json();return r.svg||""}catch(e){return console.error("RDKit API request failed:",e),""}}},1163:function(e,t,r){e.exports=r(9974)}},function(e){e.O(0,[996,774,888,179],function(){return e(e.s=4370)}),_N_E=e.O()}]);